; Drag przedmioty do plecaka

set %dragPause 1
set %dropPause 1
set %plecakType ZJF
ignoreItem reset

loop:

onhotkey F3
 gosub rzeczy

goto loop

; Szukam plecaka w glownym plecaku

sub rzeczy

finditem %plecakType C_ , #BACKPACKID
 if #findid <> x
 {
  set %sklad #FINDID
  event sysmessage Plecak: #FINDID
 }
 else
 {
  event sysmessage Nie znaleziono plecaka.
  halt
 }


 repeat
  finditem * C_ , #BACKPACKID
   if #FINDID <> x
   {
  ; if #FINDCOL = 38 || #FINDCOL = 104
  ; {
    event sysmessage Przenosze #FINDID do %sklad
    gosub przeniesPrzedmiot #findid %sklad #findstack
    finditem * C_ , #BACKPACKID
  ; }
   ignoreItem #FINDID
   }
  wait 1
 until #FINDID = x

return

sub przeniesPrzedmiot
  exevent drag %1 %3
  wait %dragPause
  exevent dropc %2
  repeat
   wait %dropPause
   finditem %1 C
  until #FINDBAGID = %2 || #FINDKIND = -1
return

